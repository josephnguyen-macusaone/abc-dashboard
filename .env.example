# =================================================================
# ABC DASHBOARD - CONSOLIDATED ENVIRONMENT CONFIGURATION
# =================================================================
# This single .env file is used for Docker Compose deployment
# Copy this file to .env and customize for your deployment
# cp .env.example .env
# =================================================================

# =================================================================
# ENVIRONMENT CONFIGURATION
# =================================================================
NODE_ENV=production

# =================================================================
# JWT CONFIGURATION
# =================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-make-it-long-and-random
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=abc-dashboard
JWT_EMAIL_VERIFICATION_EXPIRES_IN=24h
JWT_PASSWORD_RESET_EXPIRES_IN=10m

# =================================================================
# CLIENT CONFIGURATION
# =================================================================
# Frontend origin (CORS, redirects). Use http://localhost:3000 when running via Docker.
CLIENT_URL=http://localhost:3000

# =================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =================================================================
# Full connection string. In Docker use host "postgres" and port 5432 (internal).
DATABASE_URL=postgresql://abc_user:abc_password@postgres:5432/abc_dashboard
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=abc_dashboard
POSTGRES_USER=abc_user
POSTGRES_PASSWORD=abc_password

# =================================================================
# EXTERNAL LICENSE API (optional; required for license sync)
# =================================================================
EXTERNAL_LICENSE_API_URL=
EXTERNAL_LICENSE_API_KEY=

# =================================================================
# CACHE CONFIGURATION (Redis)
# =================================================================
# For Docker Compose: use redis://redis:6379 (hostname "redis" = service name in docker-compose).
# For local dev without Docker: use redis://localhost:6379
REDIS_URL=redis://redis:6379
CACHE_TYPE=redis
CACHE_USER_DATA_TTL=1800
CACHE_API_RESPONSE_TTL=300

# =================================================================
# ENCRYPTION CONFIGURATION
# =================================================================
# Backend: 64 hex chars (32 bytes) for AES-256. Required in production.
ENCRYPTION_KEY=
BCRYPT_ROUNDS=14

# =================================================================
# EMAIL CONFIGURATION
# =================================================================

# Email sender information
EMAIL_FROM=noreply@yourapp.com
EMAIL_FROM_NAME=ABC Dashboard

# Email Service Selection
EMAIL_SERVICE=gmail

# Development: MailHog (local email testing)
# EMAIL_HOST=localhost
# EMAIL_PORT=1025
# EMAIL_SECURE=false
# EMAIL_USER=
# EMAIL_PASS=

# Production: Gmail SMTP
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-email-app-password

# SendGrid Configuration (alternative to Gmail)
# SENDGRID_API_KEY=

# =================================================================
# FRONTEND CONFIGURATION
# =================================================================
NEXT_PUBLIC_API_URL=http://localhost:5000/api/v1
NEXT_PUBLIC_APP_ENV=production

# Optional: External Services
NEXT_PUBLIC_GA_TRACKING_ID=
NEXT_PUBLIC_SENTRY_DSN=

# =================================================================
# EMAIL SETUP INSTRUCTIONS
# =================================================================

# DEVELOPMENT (MailHog):
# 1. Install MailHog: brew install mailhog (macOS) or download from https://github.com/mailhog/MailHog
# 2. Start MailHog: mailhog
# 3. Access web interface: http://localhost:8025
# 4. Set EMAIL_SERVICE=mailhog and configure localhost settings above

# PRODUCTION (Gmail):
# 1. Enable 2-Factor Authentication on your Gmail account
# 2. Generate an App Password: https://support.google.com/accounts/answer/185833
# 3. Use your Gmail address as EMAIL_USER
# 4. Use the generated App Password as EMAIL_PASS
# 5. Keep EMAIL_SERVICE=gmail and Gmail config as shown above

# =================================================================
# SECURITY NOTES
# =================================================================
# - Never commit real credentials to version control
# - Use App Passwords for Gmail, not your main password
# - Use strong, unique JWT_SECRET in production
# - Test email functionality in development with MailHog first

# =================================================================
# DOCKER REGISTRY (Optional)
# =================================================================
# Uncomment if using a Docker registry
# DOCKER_REGISTRY=your-registry.com

# Next.js Server Actions Encryption Key
NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=your-32-character-encryption-key-here
